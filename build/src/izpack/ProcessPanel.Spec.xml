<processing>
  <job name="install database">
    <os family="unix" />
    <executefile name="$INSTALL_PATH/scripts/edge-db-install.sh">
      <env>DBPASSWD=$database.password</env>
      <env>DBSUPERPASSWD=$database.superpassword</env>
      <arg>$database.host</arg>
      <arg>$database.port</arg>
      <arg>$database.superuser</arg>
      <arg>$INSTALL_PATH/rsna.sql</arg>
      <arg>$INSTALL_PATH/tmp</arg>
      <arg>$INSTALL_PATH/RSNADB_rollout_v2.1.0.sql</arg>
      <arg>$upgrade</arg>
    </executefile>
  </job>
  <job name="client key gen">
    <os family="unix" />
    <createForPack name="Generate Client Certificate" />
    <executefile name="$INSTALL_PATH/scripts/keygen.sh">
      <env>INSTALL_PATH=$INSTALL_PATH</env>
      <arg>$keygen.server_name</arg>
      <arg>$keygen.dn_ou</arg>
      <arg>$keygen.dn_o</arg>
      <arg>$keygen.dn_l</arg>
      <arg>$keygen.dn_st</arg>
      <arg>$keygen.dn_c</arg>
      <arg>$keygen.days</arg>
      <arg>$upgrade</arg>
      <arg>"delta"</arg>
    </executefile>
  </job>
  <job name="mirth setup">
    <createForPack name="Mirth" />
    <os family="unix" />
    <executefile name="$INSTALL_PATH/scripts/mirth-setup.sh">
      <env>DBPASSWD=$mirthdb.password</env>
      <env>DBSUPERPASSWD=$mirthdb.superpassword</env>
      <arg>$mirthdb.host</arg>
      <arg>$mirthdb.port</arg>
      <arg>$mirthdb.name</arg>
      <arg>$mirthdb.username</arg>
      <arg>$database.superuser</arg>
      <arg>$INSTALL_PATH/mirth</arg>
      <arg>$upgrade</arg>
    </executefile>
  </job>
  <job name="glassfish setup">
    <os family="unix" />
    <createForPack name="Glassfish" />
    <executefile name="$INSTALL_PATH/scripts/glassfish-setup.sh">
      <env>INSTALL_PATH=$INSTALL_PATH</env>
      <env>DBPASS=$database.password</env>
      <arg>$database.host</arg>
      <arg>$database.port</arg>
      <arg>$upgrade</arg>
    </executefile>
  </job>
  <job name="client download prep">
    <os family="unix" />
    <createForPack name="download-prep" />
    <executefile name="$INSTALL_PATH/scripts/download-prep.sh">
      <env>INSTALL_PATH=$INSTALL_PATH</env>
    </executefile>
  </job>
  <job name="retrieve content prep">
    <os family="unix" />
    <createForPack name="retrieve-prep" />
    <executefile name="$INSTALL_PATH/scripts/retrieve-prep.sh">
      <env>INSTALL_PATH=$INSTALL_PATH</env>
      <arg>$upgrade</arg>
    </executefile>
  </job>
  <job name="version cleanup">
    <os family="unix" />
    <createForPack name="version-cleanup" />
    <executefile name="$INSTALL_PATH/scripts/version-cleanup.sh">
      <env>INSTALL_PATH=$INSTALL_PATH</env>
      <arg>$upgrade</arg>
    </executefile>
  </job>
</processing>

